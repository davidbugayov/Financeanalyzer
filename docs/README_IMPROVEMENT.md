### Finance Analyzer — план продуктовых улучшений и апгрейд README

Документ для апдейта README и дорожной карты. Фокус: рост ценности для пользователя, удержание, виральность,
монетизация. Стиль — кратко, по делу.

### Позиционирование и УТП

- **Контроль расходов без боли**: авто‑категоризация, умные напоминания, персональные советы.
- **Прогноз и сценарии**: покажем «что будет» с балансом при разных сценариях.
- **Конфиденциальность**: оффлайн‑фёрст, локальное шифрование, минимальные разрешения.

### Для кого (персоны)

- **Новички в учёте**: быстрый старт, шаблоны, подсказки.
- **Продвинутые**: бюджеты‑конверты, цели, отчёты, сценарии.
- **Семьи**: совместные бюджеты, роли, синхронизация.

### Ключевые фичи к добавлению/усилению

1) Категории и подкатегории

- Правила автоклассификации (по `source`, `note`, сумме, времени).
- Маппинг контрагентов → категории; черный/белый списки.
- Топ‑подкатегории и их вклад; MoM/YoY сравнение.

2) Источники (контрагенты)

- Детектор подписок (слова‑маркеры, периодичность) + совет «проверить подписки».
- Концентрация по одному источнику → совет «переговоры/альтернатива».

3) Повторяющиеся платежи и счета

- Авто‑обнаружение регулярных транзакций; календарь платежей; напоминания.
- Просроки/ожидаемые счета в отдельной секции.

4) Бюджеты и цели

- Режим «конверты», нулевое бюджетирование, перенос остатков.
- Цели со сроком и автосписанием процента от дохода.

5) Прогноз и симуляции

- Кэшфлоу на 30/90 дней: тренд + сезонность по месяцам.
- Сценарии «что если»: увеличить сбережения, отключить подписки, единовременные траты.

6) Аномалии и алерты

- Скачки по категориям/подкатегориям/источникам; подозрение на дубликаты.
- Ранжирование важности; одно уведомление — один смысл.

7) Импорт/интеграции

- Расширить CSV/Excel импортеры; нормализация источников.
- OCR чеков (локально) → строки и категории.

8) Виджеты и быстрая запись

- Виджет «+ транзакция», «сегодняшние траты», «прогноз до конца месяца».
- Shortcuts и Siri/Assistant‑интенты.

9) Совместные бюджеты

- Приглашения по ссылке, роли (владелец/участник), журнал изменений.

10) Геймификация и вовлечённость

- Мягкие челленджи (неделя без доставки/кофе), бейджи, streak.

### Персональные советы (усиление)

- Недобор подушки/сбережений; рост расходов > X%; доминирующая подкатегория; «слишком много наличных»; возможно
  подписка → отписка.
- Формат: что происходит → почему важно → что сделать (1 действие).

### Монетизация (гипотезы)

- Freemium: базовые функции бесплатны.
- Premium (подписка): сценарии/прогноз, совместные бюджеты, расширенная аналитика, OCR, облачная синхронизация.
- One‑time: lifetime ключ (ограниченный промокодами).

### Рост и удержание

- Онбординг: 3 шага + демоданные + импорт.
- Активация: пустые состояния → CTA «добавить транзакцию/импорт». Ин‑апп чек‑листы.
- Нотификации: умные, редкие, релевантные (событийные, счета, аномалии, weekly digest).
- Реферальная программа: 1 месяц Premium за приглашение.

### Измерения и аналитика

- North Star: MAU с активной записью + weekly retention D7/D30.
- Продуктовые метрики: CR онбординга, TTFV (до первой аналитики), доля импорта, доля автоклассифиц.
- A/B: варианты онбординга, советы в пустых состояниях, paywall копирайт.

### Дорожная карта (90 дней)

- 0–30: детектор подписок и регулярных платежей; улучшенный прогноз (устойчивое среднее + сезонность); виджет «+
  транзакция»; онбординг с демоданными.
- 30–60: бюджеты‑конверты; советы по источникам/подкатегориям; аномалии; расширение импортов.
- 60–90: сценарии «что если»; совместные бюджеты (MVP); OCR чеков (локально).

### Встраивание в текущий код

- Строки/цвета/размеры → только в `ui` (ресурсы), без хардкода.
- Советы: `ui/components/tips/FinancialTipsManager.kt` — добавить правила по источникам/подкатегориям.
- Прогноз: `domain/.../PredictFutureExpensesUseCase` — сезонность, исключение переводов/возвратов (готово частично).
- Детальная статистика: фильтры источников/подкатегорий в `FinancialDetailStatisticsScreen` + интенты во `ViewModel`.
- Импорт: унификация `source`, нормализация, правило автокатегорий.

### Обновления README (что добавить)

- Скриншоты основных экранов (Home, Статистика, Детали, Виджеты).
- Список фич по блокам: учёт, бюджеты, цели, прогноз, советы, импорт, приватность.
- Privacy: оффлайн‑фёрст, локальное хранение, экспорт/импорт без облака.
- Roadmap/Contributing: как предлагать фичи, формат PR, ветвление.

### Успех =

- D1/D7/D30 ретеншн; % пользователей, заполнивших хотя бы 3 категории; доля автоклассифицированных транзакций; NPS после
  14 дней.

### Бэклог экспериментов (кратко)

- Реактивация: «вернём контроль за 7 дней» (онбординг‑реврайт для вернувшихся).
- Пакетные транзакции из SMS/уведомлений (локальный парсер).
- Бейдж «нулевой день трат» с шарингом.


