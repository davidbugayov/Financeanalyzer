# Wallets Enhancement Roadmap

> **Purpose:** Increase user engagement with the **Wallets** feature so that more users create, top-up and actively manage multiple wallets for budgeting and saving goals.

---

## 1. Objectives

| Objective | Success Metric |
|-----------|---------------|
| üèó Adoption | ‚â• 60 % –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ–∑–¥–∞–ª–∏ ‚â• 1 –∫–æ—à–µ–ª–µ–∫ –≤ –ø–µ—Ä–≤—ã–µ 3 –¥–Ω—è |
| üìà Engagement | –°—Ä–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ –∫–æ—à–µ–ª—å–∫–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚â• 3 –≤ D30 |
| üí∞ Savings | ‚â• 40 % –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–ø–æ–ª–Ω–∏–ª–∏ ¬´–¶–µ–ª–µ–≤–æ–π –∫–æ—à–µ–ª–µ–∫¬ª ‚â• 1 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü |
| üîÑ Retention | D30 Retention —Å—Ä–µ–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ—à–µ–ª—å–∫–æ–≤ –Ω–∞ 15 –ø.–ø. –≤—ã—à–µ –±–∞–∑–æ–≤–æ–π |

---

## 2. Product Feature Roadmap

| Sprint | Feature | Description |
|--------|---------|-------------|
| **S1** | **Simplified Wallet Creation** | ‚Ä¢ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–∞—Å—Ç–µ—Ä –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ  <br>‚Ä¢ –®–∞–±–ª–æ–Ω—ã: ¬´–ù–∞–ª–∏—á–Ω—ã–π¬ª, ¬´–ö–∞—Ä—Ç–∞¬ª, ¬´–°–±–µ—Ä–µ–∂–µ–Ω–∏—è¬ª  <br>‚Ä¢ –ü–æ—è—Å–Ω—è—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ |
| **S1** | **Wallet List UI Revamp** | ‚Ä¢ Sticky header —Å —Å—É–º–º–æ–π –∞–∫—Ç–∏–≤–æ–≤  <br>‚Ä¢ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è (–∑–µ–ª/–∂–µ–ª—Ç/–∫—Ä–∞—Å–Ω)  <br>‚Ä¢ Long-press: –ü–æ–ø–æ–ª–Ω–∏—Ç—å/–°–Ω—è—Ç—å/–ü–µ—Ä–µ–≤–æ–¥ |
| **S2** | **Sub-Wallets (Envelopes)** | –í–Ω—É—Ç—Ä–∏ –∫–æ—à–µ–ª—å–∫–∞ ‚Äî –ø–æ–¥–ø—É–ª—ã (Groceries, Fun‚Ä¶). –ü–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–∞ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π |
| **S2** | **Goals Wallets** | Checkbox ¬´–≠—Ç–æ —Ü–µ–ª—å¬ª ‚Üí targetAmount + targetDate. Progress-bar + milestone push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| **S3** | **Auto Rules** | ‚Ä¢ –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Å–¥–∞—á–∏  <br>‚Ä¢ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ ¬´10 % –¥–æ—Ö–æ–¥–∞¬ª  |
| **S3** | **Insights & Gamification** | ‚Ä¢ Weekly digest ¬´–í—ã –±–ª–∏–∑–∫–∏ –∫ —Ü–µ–ª–∏!¬ª  <br>‚Ä¢ –ë–µ–π–¥–∂–∏ ¬´5 –Ω–µ–¥–µ–ª—å –≤ –ø–ª—é—Å–µ¬ª |
| **S4** | **Bank Sync (Opt-in)** | –ü–ª–∞–≥–∏–Ω—ã –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–≤ (Plaid / fin-API). CSV –∏–º–ø–æ—Ä—Ç –∫–∞–∫ fallback |
| **S4** | **Referral + Leaderboard** | ¬´+1 –º–µ—Å—è—Ü Pro¬ª –∑–∞ –¥—Ä—É–≥–∞, leaderboard % –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–π |

---

## 3. Technical Tasks

### 3.1 Domain Layer

- `Wallet` ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è  
  `type: WalletType`, `goalAmount: Money?`, `goalDate: LocalDate?`, `parentWalletId: String?`
- –ù–æ–≤—ã–µ use-cases:
  1. `CreateWalletUseCase` (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π wizard)
  2. `AllocateIncomeUseCase` (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–æ–¥–ø—É–ª–∞–º)
  3. `UpdateGoalProgressUseCase`
  4. `SyncBankTransactionsUseCase`

### 3.2 Data Layer

- Room migration V17-18: –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—É `wallets`
- DAO: `getSubWallets(parentId)`, `getGoalProgress(walletId)`
- Repository: –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª –∞–≤—Ç–æ-–ø–µ—Ä–µ–≤–æ–¥–∞

### 3.3 Presentation Layer (Compose)

- `WalletListScreen` ‚ü∂ –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω  
- `WalletDetailsScreen` ‚ü∂ —Ç–∞–±—ã *Transactions | Goals | Settings*
- `WalletSetupGraph` ‚ü∂ onboarding flow (Navigation)
- Widgets: `WalletBalanceWidget` –∏ `QuickAddTransactionWidget`

### 3.4 Background Workers

- `GoalProgressWorker` ‚Äì –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø—É—à–∏—Ç milestones
- `AutoRuleWorker` ‚Äì —Ä–∞–∑ –≤ –¥–µ–Ω—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ/–ø–µ—Ä–µ–≤–æ–¥—ã

### 3.5 Sync Plugin Interface

```kotlin
interface BankSyncProvider {
    suspend fun connect(credentials: Credentials): Result<Unit>
    suspend fun fetchTransactions(): List<BankTransaction>
}
```

---

## 4. Marketing & Growth Plan

1. **Onboarding Carousel** (3-5 —ç–∫—Ä–∞–Ω–æ–≤). –ê/–ë-—Ç–µ—Å—Ç–∏—Ä—É–µ–º –∏–∫–æ–Ω–∫–∏ + CTA.
2. **Push Cadence**  
   ‚Ä¢ T+2 –¥–Ω—è: ¬´–ó–∞–≤–µ—Ä—à–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∫–æ—à–µ–ª—å–∫–æ–≤¬ª  
   ‚Ä¢ –ü–µ—Ä–µ–¥ –∑–∞—Ä–ø–ª–∞—Ç–æ–π (predict) ‚Äì ¬´–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å–≤–µ–∂–∏–π –¥–æ—Ö–æ–¥¬ª
3. **In-app Tips**: –∫–∞—Ä—Ç–æ—á–∫–∏ ¬´–°–æ–∑–¥–∞–π '–§–æ–Ω–¥ 3-–º–µ—Å—è—á–Ω–æ–≥–æ —Ä–µ–∑–µ—Ä–≤–∞'¬ª
4. **Referral Program** (+1 –º–µ—Å Pro) + share-deep-link.
5. **ASO**: –°–∫—Ä–∏–Ω —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º, –∫–ª—é—á–∏ ¬´wallet goals¬ª/¬´–∫–æ–ø–∏–ª–∫–∏¬ª.
6. **Email Digest** (HTML) ‚Äì –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç + —É—Å–ø–µ—Ö–∏ —Ü–µ–ª–µ–π.

---

## 5. Analytics & KPIs

- Custom events:
  - `wallet_created`, `wallet_goal_set`, `sub_wallet_created`, `auto_rule_enabled`
  - Funnel ¬´–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è ‚Üí –°–æ–∑–¥–∞–ª –∫–æ—à–µ–ª–µ–∫ ‚Üí –î–æ–±–∞–≤–∏–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é ‚Üí –ü–æ–ø–æ–ª–Ω–∏–ª —Ü–µ–ª—å¬ª
- Amplitude dashboards & Mixpanel cohorts
- A/B flags via `remote-config`

---

## 6. Timeline (High-level)

| Week | Milestone |
|------|-----------|
| 1 | DB migration, Updated Wallet model, Wallet List UI revamp |
| 2 | Onboarding wizard, CreateWalletUseCase, analytics events |
| 3 | Sub-Wallets, AllocateIncomeUseCase |
| 4 | Goal wallets, progress-bar UI, GoalProgressWorker |
| 5 | Auto rules engine + AutoRuleWorker |
| 6 | Insights, weekly digest email, gamification badges |
| 7 | Bank Sync beta (1-2 –ø–∞—Ä—Ç–Ω—ë—Ä–∞), referral program launch |
| 8 | Full release, ASO-–º–∞—Ç–µ—Ä–∏–∞–ª—ã, marketing campaign |

> **Note:** Timeline assumes 2 devs, 1 designer, 0.5 QA. Adjust for team size.

---

## 7. Risks & Mitigations

| Risk | Impact | Mitigation |
|------|--------|-----------|
| –î–æ–ª–≥–∞—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö API | üö® | –ó–∞–ø—É—Å–∫ Bank Sync –∫–∞–∫ beta-—Ñ–∏—á–∏, fallback ‚Äì CSV –∏–º–ø–æ—Ä—Ç |
| –°–ª–æ–∂–Ω–∞—è Room-–º–∏–≥—Ä–∞—Ü–∏—è | ‚ö†Ô∏è | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ä—É—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ staging |
| Push fatigue | ‚ö†Ô∏è | Frequency capping, user-opt-outs |
| Over-scope | ‚ö†Ô∏è | MVP-–ø–æ–¥—Ö–æ–¥, MoSCoW-–ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏—è |

---

## 8. Dependencies & Resources

- **Design**: Figma –º–∞–∫–µ—Ç—ã Wallet v2 (UI/UX)  
- **Copywriting**: –†—É—Å/Eng –ª–æ–Ω–≥-–∫–æ–ø–∏ –¥–ª—è onboarding, push, email  
- **Backend** (optional): Endpoint `/v1/referral`  
- **Legal**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–≤ BankSync

---

_–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {{DATE ‚Üí –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ}}_ 