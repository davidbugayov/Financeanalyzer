# Финансовый Стиль

Мобильное приложение для осознанного управления личными финансами, разработанное на Kotlin с
использованием Jetpack Compose.

## Описание проекта

"Финансовый Стиль" — это приложение для Android, которое помогает пользователям вести учет доходов и
расходов, анализировать свои финансовые привычки и принимать осознанные решения о тратах. Приложение
представляет управление финансами не просто как учет, а как часть стиля жизни, способствующую
осознанному потреблению и финансовому благополучию.

## Основные функции

- **Учет транзакций**: добавление доходов и расходов с категоризацией
- **Источники средств**: отслеживание движения денег между различными счетами и кошельками
- **Аналитика**: визуализация расходов и доходов через графики и диаграммы
- **Категории**: настраиваемые категории для персонализации учета
- **Виджеты**: быстрый доступ к информации о балансе с главного экрана устройства
- **Темная и светлая темы**: адаптация интерфейса под предпочтения пользователя

## Скриншоты

<table>
  <tr>
    <td><img src="screenshots/home_screen.png" alt="Главный экран" width="200"/></td>
    <td><img src="screenshots/add_transaction.png" alt="Добавление транзакции" width="200"/></td>
    <td><img src="screenshots/analytics.png" alt="Аналитика" width="200"/></td>
    <td><img src="screenshots/history.png" alt="История" width="200"/></td>
  </tr>
  <tr>
    <td align="center">Главный экран</td>
    <td align="center">Добавление транзакции</td>
    <td align="center">Аналитика</td>
    <td align="center">История</td>
  </tr>
</table>

## Технический стек

- **Язык программирования**: Kotlin
- **UI фреймворк**: Jetpack Compose
- **Архитектура**: MVVM (Model-View-ViewModel) с элементами Clean Architecture
- **Управление состоянием**: MVI (Model-View-Intent)
- **Dependency Injection**: Koin
- **Локальное хранилище**: Room Database
- **Асинхронное программирование**: Kotlin Coroutines и Flow
- **Аналитика и мониторинг**: Firebase Analytics и Crashlytics

## Структура проекта

Проект организован по принципам Clean Architecture и разделен на следующие основные пакеты:

- **domain**: содержит бизнес-логику и модели данных
    - **model**: доменные модели (Transaction, Source, Money и др.)
    - **usecase**: бизнес-логика приложения
    - **repository**: интерфейсы репозиториев

- **data**: реализация доступа к данным
    - **repository**: реализации репозиториев
    - **local**: локальное хранилище (Room Database)
    - **mapper**: конвертеры между доменными и data моделями

- **presentation**: пользовательский интерфейс
    - **home**: главный экран с балансом и последними транзакциями
    - **add**: экран добавления транзакций
    - **chart**: экран с финансовой аналитикой
    - **history**: экран истории транзакций
    - **components**: переиспользуемые UI компоненты
    - **theme**: настройки темы приложения

- **utils**: вспомогательные классы и утилиты

## Ключевые файлы

- **AddTransactionViewModel.kt**: логика добавления транзакций
- **AddTransactionScreen.kt**: UI экрана добавления транзакций
- **Transaction.kt**: доменная модель транзакции
- **Source.kt**: модель источника средств
- **Money.kt**: модель для работы с денежными значениями
- **ColorUtils.kt**: утилиты для работы с цветами и предустановленными источниками
- **SummarySection.kt**: компонент для отображения финансовой сводки
- **PieChartSection.kt**: компонент для отображения круговых диаграмм
- **DailyExpensesSection.kt**: компонент для отображения ежедневных расходов

## Особенности реализации

### Модель данных

#### Transaction (Транзакция)

Основная сущность приложения, представляющая финансовую операцию:

- `id`: уникальный идентификатор
- `title`: название транзакции
- `amount`: сумма (тип Money)
- `category`: категория
- `isExpense`: тип (расход/доход)
- `date`: дата совершения
- `note`: примечание
- `source`: источник средств

#### Money (Деньги)

Специальный класс для работы с денежными значениями:

- Хранит сумму и валюту
- Поддерживает математические операции
- Обеспечивает корректное форматирование

#### Source (Источник)

Представляет источник средств или счет:

- `id`: уникальный идентификатор
- `name`: название источника
- `color`: цвет для визуального представления
- `isCustom`: признак пользовательского источника

### Пользовательский интерфейс

Приложение использует современный подход к построению UI с помощью Jetpack Compose:

- **Декларативный UI**: интерфейс описывается как функция состояния
- **Композабельные функции**: переиспользуемые UI-компоненты
- **Анимации**: плавные переходы между состояниями
- **Темы**: поддержка светлой и темной темы
- **Material Design 3**: соответствие современным стандартам дизайна

### Аналитика и визуализация

Для визуализации финансовых данных используются различные типы графиков:

- **Круговые диаграммы**: для отображения распределения по категориям
- **Линейные графики**: для отображения динамики расходов/доходов
- **Столбчатые диаграммы**: для сравнения периодов
- **Индикаторы прогресса**: для отображения соотношений

## Как запустить проект

1. **Клонирование репозитория**:
   ```
   git clone https://github.com/yourusername/financeanalyzer.git
   cd financeanalyzer
   ```

2. **Открытие проекта в Android Studio**:
    - Запустите Android Studio
    - Выберите "Open an existing Android Studio project"
    - Укажите путь к клонированному репозиторию

3. **Сборка проекта**:
    - Дождитесь завершения синхронизации Gradle
    - Выберите "Build > Make Project" или используйте сочетание клавиш Ctrl+F9 (Cmd+F9 на Mac)

4. **Запуск приложения**:
    - Подключите устройство Android или запустите эмулятор
    - Выберите "Run > Run 'app'" или нажмите Shift+F10 (Ctrl+R на Mac)

## Требования к системе

- Android 8.0 (API level 26) или выше
- Минимум 50 МБ свободного места
- Рекомендуется Android 10.0 или выше для оптимальной производительности

## Архитектурные особенности

### Паттерн MVI

Приложение использует паттерн MVI (Model-View-Intent) для управления состоянием UI:

- **State**: неизменяемые классы, описывающие состояние экрана (например, AddTransactionState)
- **Event**: события, инициируемые пользователем (например, AddTransactionEvent)
- **ViewModel**: обрабатывает события и обновляет состояние

### Dependency Injection

Для внедрения зависимостей используется Koin:

- **AppModule**: основной модуль с зависимостями приложения
- **ViewModelModule**: модуль для предоставления ViewModel
- **RepositoryModule**: модуль для предоставления репозиториев

### Реактивное программирование

Для реактивного обновления UI используются Kotlin Flow:

- **StateFlow**: для хранения и обновления состояния UI
- **SharedFlow**: для отправки одноразовых событий

## Процесс разработки

### Версионирование

Проект следует семантическому версионированию (SemVer):

- **Major**: значительные изменения API
- **Minor**: новые функции с обратной совместимостью
- **Patch**: исправления ошибок

### Тестирование

Приложение покрыто различными типами тестов:

- **Unit-тесты**: для бизнес-логики и ViewModel
- **UI-тесты**: для проверки пользовательского интерфейса
- **Интеграционные тесты**: для проверки взаимодействия компонентов

### CI/CD

Проект использует GitHub Actions для непрерывной интеграции и доставки:

- Автоматическая сборка при каждом push
- Запуск тестов
- Создание релизных сборок
- Публикация в Google Play (для релизных веток)

## Планы развития

- [ ] Добавление бюджетирования и финансовых целей
- [ ] Интеграция с банковскими API для автоматического импорта транзакций
- [ ] Расширенная аналитика с прогнозированием расходов
- [ ] Экспорт данных в различные форматы (CSV, PDF)
- [ ] Синхронизация между устройствами через облачное хранилище

## Вклад в проект

Мы приветствуем вклад в развитие проекта! Если вы хотите внести свой вклад:

1. Форкните репозиторий
2. Создайте ветку для вашей функции (`git checkout -b feature/amazing-feature`)
3. Зафиксируйте изменения (`git commit -m 'Add some amazing feature'`)
4. Отправьте изменения в ваш форк (`git push origin feature/amazing-feature`)
5. Откройте Pull Request

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности в файле LICENSE.

## Контакты

Если у вас есть вопросы или предложения, свяжитесь с нами:

- Email: contact@financeanalyzer.com
- Twitter: [@financeanalyzer](https://twitter.com/financeanalyzer)
- Website: [financeanalyzer.com](https://financeanalyzer.com) 