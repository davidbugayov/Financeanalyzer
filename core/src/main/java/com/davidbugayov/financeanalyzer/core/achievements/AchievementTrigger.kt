package com.davidbugayov.financeanalyzer.core.achievements

import android.util.Log
import java.util.Calendar

/**
 * –•–µ–ª–ø–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
 */
object AchievementTrigger {
    
    private const val TAG = "AchievementTrigger"
    
    /**
     * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
     */
    fun onTransactionAdded() {
        Log.d(TAG, "üèÜ –¢—Ä–∏–≥–≥–µ—Ä: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞")
        // TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AchievementEngine
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ä–µ–º—è –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∞—á–∏–≤–æ–∫
        val hour = Calendar.getInstance().get(Calendar.HOUR_OF_DAY)
        if (hour < 7) {
            Log.d(TAG, "üåÖ –¢—Ä–∏–≥–≥–µ—Ä: –†–∞–Ω–Ω—è—è –ø—Ç–∞—à–∫–∞ (–¥–æ 7 —É—Ç—Ä–∞)")
        }
        if (hour >= 23) {
            Log.d(TAG, "üåô –¢—Ä–∏–≥–≥–µ—Ä: –ù–æ—á–Ω–∞—è —Å–æ–≤–∞ (–ø–æ—Å–ª–µ 23:00)")
        }
    }
    
    /**
     * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞
     */
    fun onBudgetCreated() {
        Log.d(TAG, "üèÜ –¢—Ä–∏–≥–≥–µ—Ä: –ë—é–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω")
        // TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AchievementEngine
    }
    
    /**
     * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
     */
    fun onStatisticsViewed() {
        Log.d(TAG, "üèÜ –¢—Ä–∏–≥–≥–µ—Ä: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–∞")
        // TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AchievementEngine
    }
    
    /**
     * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—Å–µ—â–µ–Ω–∏–∏ —Ä–∞–∑–¥–µ–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     */
    fun onAppSectionVisited(sectionName: String) {
        Log.d(TAG, "üèÜ –¢—Ä–∏–≥–≥–µ—Ä: –ü–æ—Å–µ—â–µ–Ω —Ä–∞–∑–¥–µ–ª $sectionName")
        // TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AchievementEngine
    }
    
    /**
     * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞/–Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π
     */
    fun onSavingsChanged(newAmount: Long) {
        Log.d(TAG, "üèÜ –¢—Ä–∏–≥–≥–µ—Ä: –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–∏–ª–∏—Å—å: $newAmount")
        // TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AchievementEngine
    }
    
    /**
     * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ –ø–æ –±—é–¥–∂–µ—Ç—É
     */
    fun onBudgetProgress(spentPercentage: Float) {
        Log.d(TAG, "üèÜ –¢—Ä–∏–≥–≥–µ—Ä: –ü—Ä–æ–≥—Ä–µ—Å—Å –±—é–¥–∂–µ—Ç–∞: ${(spentPercentage * 100).toInt()}%")
        // TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AchievementEngine
        
        if (spentPercentage < 0.8f) {
            Log.d(TAG, "üí∞ –¢—Ä–∏–≥–≥–µ—Ä: –≠–∫–æ–Ω–æ–º–Ω—ã–π (–ø–æ—Ç—Ä–∞—á–µ–Ω–æ –º–µ–Ω–µ–µ 80%)")
        }
    }
    
    /**
     * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
     */
    fun onCategoryUsed(categoryId: String) {
        Log.d(TAG, "üèÜ –¢—Ä–∏–≥–≥–µ—Ä: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è $categoryId")
        // TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AchievementEngine
    }
} 